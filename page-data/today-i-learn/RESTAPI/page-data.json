{"componentChunkName":"component---src-templates-post-template-tsx","path":"/today-i-learn/RESTAPI/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>REST(Representational State Trensfer) API</h3>\n<p>웹에서 사용되는 데이터나 자원(Resource)을 HTTP URI로 표현하고, HTTP 프로토콜을 통해 요청과 응답을 정의하는 방식</p>\n<h3>REST 성숙도 모델 - 0단계</h3>\n<p>REST 성숙도 모델 _0단계: HTTP 프로토콜을 사용한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/18e9fefe6d0500d9cc46e9335f0e00b1/0914b/RESTapiImg1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABZUlEQVQoz31Q2U7CQBTt/3+CkScC+gNGfVJRP8BIRFxKF1pKoZ3pTDda6DH3IhUIcZIz99x9MXoPCc6vPZxduegNFC6eUvQfU3TvBDq3M+a9gUZ/kODyOUOf/Rrde4HOjc+c8rbQMCJVQWYNZLYB8dd3C1/2HN9OCNNd4NOaY+JF8EKFlzcTY9PHZBohUjVivY81S6MsMhR5ilWZoyxyiHiJLFVQiUBdldg94vNgxrFAg7/XHEhD6xRKaZDM8wJCSjiOi+nUY53CmmYbvFgsMP74gOf7sG0HrusyfH/GupQJjPV63fbabDZt8rFttVqhrmuUZcm8KArmO5BOfoO+dq26hmVZsG0bYRjyRFEUsU9rDdM0EQQBhBDc5BQMqp5lGZRS3Hm5XDLyPD+YtqoqSCk5BntnaC/5q3PBNE2RJAkbabLhcIjRaNQm71Y/Tj71Dm5IgbQOrRrHMd+GbFSMzkGxxP/DD9K8rjPHVxneAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/18e9fefe6d0500d9cc46e9335f0e00b1/a59e9/RESTapiImg1.webp 192w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/0ca9f/RESTapiImg1.webp 384w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/dc9b9/RESTapiImg1.webp 768w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/e2c2f/RESTapiImg1.webp 1152w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/f3efb/RESTapiImg1.webp 1536w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/a111e/RESTapiImg1.webp 1614w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/18e9fefe6d0500d9cc46e9335f0e00b1/3b721/RESTapiImg1.png 192w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/66595/RESTapiImg1.png 384w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/fe486/RESTapiImg1.png 768w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/d2d74/RESTapiImg1.png 1152w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/e8464/RESTapiImg1.png 1536w,\n/static/18e9fefe6d0500d9cc46e9335f0e00b1/0914b/RESTapiImg1.png 1614w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/18e9fefe6d0500d9cc46e9335f0e00b1/fe486/RESTapiImg1.png\"\n            alt=\"1\"\n            title=\"1\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>REST 성숙도 모델 - 1단계</h3>\n<p>REST 성숙도 모델 _1단계: 개별 리소스(Resource)와의 통신을 준수한다.</p>\n<p>웹에서 사용되는 모든 데이터나 Resource를 HTTP URI로 표현한다. 따라서 모든 Resource는 개별 Resource에 맞는 엔드포인트(Endpoint)를 사용해야하며 요청하고 받는 자원에 대한 정보를 응답으로 전달해야 한다는 것이 1단계의 핵심이다.</p>\n<p>앞서 0단계에서는 요청에서의 엔드포인트를 모두 / appointment 를 사용하였다. 하지만 1단계에서는 요청하는 리소스가 무엇인지에 따라 각기 다른 엔드포인로 구분하여 사용한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b7ce126e66ead7704e19fff8ccc78362/171ca/RESTapiImg2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.479166666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABfElEQVQoz41S7U7CUAzd+7+AMTEG5BH8YYwRAlH/+QGIJhpwbtxtEMa9G/eOfbFj2jACxESbnLS3O21Pm1mNW4mTSxenVz6anQitnkarq3F2PUOzE2+hOHfRXfG70Y6Yf34TotGJ0GgrzjXbEtboO8FgEuPVNhhMVug9T/EwDHDfF+xfxjGePhXu+h6/Hz8k3qcZhl8aVPvmpnhzUvYjJ4GFPavKDMK1IcM58tSgzNeURaIj+MJBnmr8ZdZSKiyXkqGNgTEJVBQjXErkeYEKQFlu4Hn+AQRBeBzPZnO4UwEpFawsy5Dn+Q6/GXHW6zWSJIFSir3WGnEcwxjDMYE41maz2RUex1VVMYqiwH+MaqyyLLmIjCbbto0gCFhJGIZMoth1XSwWC1ZEfMoTqJ5AMQ226nXSNOXVHMeB7/uQUu5OQOvQICEEN6RC4pKvxewUkqooilgFEQg0kZrVK5PRkPF4zANJeX2//Q254fGEg99o+43U1zc95uzzqOEP2a75d4o43SgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7ce126e66ead7704e19fff8ccc78362/a59e9/RESTapiImg2.webp 192w,\n/static/b7ce126e66ead7704e19fff8ccc78362/0ca9f/RESTapiImg2.webp 384w,\n/static/b7ce126e66ead7704e19fff8ccc78362/dc9b9/RESTapiImg2.webp 768w,\n/static/b7ce126e66ead7704e19fff8ccc78362/e2c2f/RESTapiImg2.webp 1152w,\n/static/b7ce126e66ead7704e19fff8ccc78362/f3efb/RESTapiImg2.webp 1536w,\n/static/b7ce126e66ead7704e19fff8ccc78362/c3f6b/RESTapiImg2.webp 1684w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7ce126e66ead7704e19fff8ccc78362/3b721/RESTapiImg2.png 192w,\n/static/b7ce126e66ead7704e19fff8ccc78362/66595/RESTapiImg2.png 384w,\n/static/b7ce126e66ead7704e19fff8ccc78362/fe486/RESTapiImg2.png 768w,\n/static/b7ce126e66ead7704e19fff8ccc78362/d2d74/RESTapiImg2.png 1152w,\n/static/b7ce126e66ead7704e19fff8ccc78362/e8464/RESTapiImg2.png 1536w,\n/static/b7ce126e66ead7704e19fff8ccc78362/171ca/RESTapiImg2.png 1684w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7ce126e66ead7704e19fff8ccc78362/fe486/RESTapiImg2.png\"\n            alt=\"2\"\n            title=\"2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>위 예시에서 ‘예약 가능한 시간 확인’이라는 요청의 응답으로 받는 Resource는 허준이라는 의사의 예약 가능한 시간대다. 그렇기 때문에 요청시 <code class=\"language-text\">/doctor/허준</code> 이라는 엔드포인트를 사용했다.</p>\n<p>특정시간에 예약하게 되면 실제 slots라는 리소스의 123이라는 id를 가진 리소스가 변경되기 때문에, 하단의 특정 시간에 예약이라는 요청에서는 <code class=\"language-text\">/slots/123</code> 으로 실제 변경되는 리소스를 엔드포인트로 사용했다.</p>\n<p>엔드포인트 작싱시에는 동사, HTTP 메서드, 혹은 어떤 행위에 대한 단어 사용은 지양하고, 리소스에 집중해서 명사 형태의 단어로 적성하는 것이 바람직하다.</p>\n<p>요청에 따른 응답으로 리소스를 전달할 때에도 사용한 리소스에 대한 정보와 함께 리소스 사용에 대한 성공/ 실패 여부를 반환해야한다. 예를들어 허준 의사가 9시에 예약을 했으나 해당시간이 마감되어 예약이 불가능할 경우, 아래와 같이 리소스 사용에 대한 실패 여부를 포함한 응답을 받아야 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/974658dbd456e7f0b9871ca61325dc24/024a7/RESTapiImg3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.5625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABmklEQVQoz42R3Y7TMBCF8/4PgfYKuuwLILhCW5Z7LkAoKmzabNJmE/Jj58+O/aFxN91yh6WjGc+cOTnxRJtty5sPB24+Ztx+Udw9aN4/aG4+5by7b9lsO263HXdf+9Df3HchCv/t55rNVgVOwH1DVCtD2y90g6NqR7593/Fzl/KYFvw+FDzXA+nxDz/iPb/2R46lQk8EvhpfEHJPow0R3rEe7xaOeUZZFqiuxZop1KdxID3s0aplsQYzT2eYc7RmDlzpRXVdU5YlVVWhlGZZFuZ5ZhxH7LLgnMd7T1E8c0hTkmRPnuchyj1Nn8iynGS/p2kaIhFYj3Ovbi+uvccYw/8cmY+ELKICyZVSF2itsdYGt5JrpRiHIQyuM9eQ+ejalRTiOCbLsrOA1nigrWsek4SyrpmsPTu/hvehJqLRNE3BTdd1oSDvsEKIQnXyLKcTJAlUFb7v8cOAn+cL5yIoCxiGgb7vw++tjteveucIlTzHxzHsdpBn4U5xgqYRpVfB66UsYavuAv8SF3FizT89ce3EgDnXxcBiLX8B/rn+k4EGzkYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/974658dbd456e7f0b9871ca61325dc24/a59e9/RESTapiImg3.webp 192w,\n/static/974658dbd456e7f0b9871ca61325dc24/0ca9f/RESTapiImg3.webp 384w,\n/static/974658dbd456e7f0b9871ca61325dc24/dc9b9/RESTapiImg3.webp 768w,\n/static/974658dbd456e7f0b9871ca61325dc24/e2c2f/RESTapiImg3.webp 1152w,\n/static/974658dbd456e7f0b9871ca61325dc24/f3efb/RESTapiImg3.webp 1536w,\n/static/974658dbd456e7f0b9871ca61325dc24/9b468/RESTapiImg3.webp 1682w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/974658dbd456e7f0b9871ca61325dc24/3b721/RESTapiImg3.png 192w,\n/static/974658dbd456e7f0b9871ca61325dc24/66595/RESTapiImg3.png 384w,\n/static/974658dbd456e7f0b9871ca61325dc24/fe486/RESTapiImg3.png 768w,\n/static/974658dbd456e7f0b9871ca61325dc24/d2d74/RESTapiImg3.png 1152w,\n/static/974658dbd456e7f0b9871ca61325dc24/e8464/RESTapiImg3.png 1536w,\n/static/974658dbd456e7f0b9871ca61325dc24/024a7/RESTapiImg3.png 1682w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/974658dbd456e7f0b9871ca61325dc24/fe486/RESTapiImg3.png\"\n            alt=\"3\"\n            title=\"3\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3>REST 성숙도 모델 -2단계</h3>\n<p>모델 2단계에서는 CURD에 맞게 적절한 HTTP 메서드를 사용하는것에 중점을 둔다.</p>\n<p>예약 가능한 시간을 확인한다는 것은 예약 가능한 시간을 조회(READ)하는 의미 이고, 특정시간에 예약하는 것은 특정시간 예약을 생성(CREATE)하는 의미한다. 그러므로 조회(READ)하기 위해서는 <code class=\"language-text\">GET</code> 메서드를 사용하고, 이때 <code class=\"language-text\">GET</code> 메서드는 <code class=\"language-text\">body</code> 를 가지지 않기 때문에 query parameter를 사용하여 필요한 리소스를 전달한다.</p>\n<p>예약을 생성(CREATE)하기 위해서는 <code class=\"language-text\">POST</code> 메서드를 사용하여 요청을 보내야하며 <code class=\"language-text\">POST</code> 요청에 대한 응답이 어떻게 반환되는지가 중요하다. 이 경우 새롭게 생성된 리소스를 보내주기 때문에, 응답코드는 <code class=\"language-text\">201 Create</code> 로 명확하게 작성해야 하며, 관련 리소스를 클라이언트가 <code class=\"language-text\">Location</code> 헤더에 작성된 URI를 통해 확인할 수 있도록 해야한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b37c1c87249c86e69a0d087f40758d14/a9258/RESTapiImg4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABb0lEQVQoz22Q626bQBCFef83yJ8mUp2+QX6lrZS6b9BKTSLVaQ0sNxtYFgyBXb5qVuC6l5UOM2c4cw2u7iKu3xe827ZsPndsth3XH0uPzbbl7UPD5qHh9pPhVjSeG97c59x8KL0vmhVBWg5k9cjXp4jd457854H0JSd9ycj3B3ZhyS6u+fIU8e17yg+lKRpHVo1k9USuLflihQezm2C2DKcW23feR2JLHJy3hyKjPBbMdkRyLsFqgUApRa21J7Okz76E91fIa4whSRLCMESphCiKiJUiimKSJCWOFdY6Al9oXtN+P4mtmKYJ5+y56aI4513aQD7OOcqypCgKtNbUdb0UcR7iH4+atjKMecWge0bZdPl/iWAcR5+QpjJ2jDGGYRj+mNZaS5K0xGFDHncU2YTWlnl2/L1cUFWVn0oK933vi/3vBE1T8/z8SBjtqXVJ1xlOp/4frb+hjCpTrDdbuUB8aSaNhL++jmftqrtc+RdYoLB6DB/iewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b37c1c87249c86e69a0d087f40758d14/a59e9/RESTapiImg4.webp 192w,\n/static/b37c1c87249c86e69a0d087f40758d14/0ca9f/RESTapiImg4.webp 384w,\n/static/b37c1c87249c86e69a0d087f40758d14/dc9b9/RESTapiImg4.webp 768w,\n/static/b37c1c87249c86e69a0d087f40758d14/e2c2f/RESTapiImg4.webp 1152w,\n/static/b37c1c87249c86e69a0d087f40758d14/f3efb/RESTapiImg4.webp 1536w,\n/static/b37c1c87249c86e69a0d087f40758d14/44d22/RESTapiImg4.webp 1898w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b37c1c87249c86e69a0d087f40758d14/3b721/RESTapiImg4.png 192w,\n/static/b37c1c87249c86e69a0d087f40758d14/66595/RESTapiImg4.png 384w,\n/static/b37c1c87249c86e69a0d087f40758d14/fe486/RESTapiImg4.png 768w,\n/static/b37c1c87249c86e69a0d087f40758d14/d2d74/RESTapiImg4.png 1152w,\n/static/b37c1c87249c86e69a0d087f40758d14/e8464/RESTapiImg4.png 1536w,\n/static/b37c1c87249c86e69a0d087f40758d14/a9258/RESTapiImg4.png 1898w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b37c1c87249c86e69a0d087f40758d14/fe486/RESTapiImg4.png\"\n            alt=\"4\"\n            title=\"4\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><code class=\"language-text\">POST</code> 메서드는 요청마다 새로운 리소스를 생성하고 <code class=\"language-text\">PUT</code> 메서드는 요청마다 같은 리소스를 반환한다. 이렇게 매 요청마다 같은 리소스를 반환하는 것을 역등(idempotent)하다고 한다.</p>\n<p><code class=\"language-text\">PUT</code> 메서드는 교체, <code class=\"language-text\">PATHCH</code> 는 수정의 용도로 사용한다.</p>","frontmatter":{"title":"[TIL]REST API","summary":"REST API...?","date":"2022.12.02.","categories":["Web","Javascript","REST API"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAr0lEQVQoz2O48Ojzf2piBnyS5x9+gtMwjCxOsoGomr/gNYiggSguevDx/5l777C6liwDT995+3/L4Qv/z9x7jyFHchhefPL1/+Vn38H8S0+//b/4+At5YQjSdPnpt/97z975v3bX8f97ztz+v3H/mf+HLz/+f+nJV/K8DHLNqduv/x+6/Oj/yduv/x+79uz/6btv8cY0YS8//gL3KshlFyjxMnqsEpMWGeiaU8gxEADEFGcvNjv79QAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/c2233a72b47dacd4597e65057afd028b/e1bff/RESTAPI.png","srcSet":"/static/c2233a72b47dacd4597e65057afd028b/62948/RESTAPI.png 465w,\n/static/c2233a72b47dacd4597e65057afd028b/378a1/RESTAPI.png 929w,\n/static/c2233a72b47dacd4597e65057afd028b/e1bff/RESTAPI.png 1858w","sizes":"(min-width: 1858px) 1858px, 100vw"},"sources":[{"srcSet":"/static/c2233a72b47dacd4597e65057afd028b/a3e1f/RESTAPI.webp 465w,\n/static/c2233a72b47dacd4597e65057afd028b/5bc0f/RESTAPI.webp 929w,\n/static/c2233a72b47dacd4597e65057afd028b/4a53c/RESTAPI.webp 1858w","type":"image/webp","sizes":"(min-width: 1858px) 1858px, 100vw"}]},"width":1858,"height":1122}},"publicURL":"/static/c2233a72b47dacd4597e65057afd028b/RESTAPI.png"}}}}]}},"pageContext":{"slug":"/today-i-learn/RESTAPI/"}},"staticQueryHashes":[]}